<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Interesting and/or useful things (to me)"><link rel="shortcut icon" href=https://phunh.github.io/favicon.ico><link rel=stylesheet href=/css/style.min.ffbd2639ac503caa3b261c32e3e1533fad01e3662072d49d4c38167e4d9e6708.css><title>grubby and BootLoaderSpec - and grubby-deprecated</title></head><body><header id=banner><h2><a href=https://phunh.github.io/posts/problem-grubby-f31/>grubby and BootLoaderSpec - and grubby-deprecated</a></h2><nav><ul><li><a href=https://phunh.github.io>home</a></li><li><a class=active href=/posts/>posts</a></li><li><a href=/notes/>notes</a></li><li><a href=/tags/>tags</a></li><li><a href=/about/>about</a></li></ul></nav></header><main id=content><article><header id=post-header><small><time>Updated on 23 Apr 2020</time></small><div class=tagline>Phu
&emsp;|&emsp;5 minutes&emsp;|&emsp;Tags:
&nbsp;<a class=tag href=/tags/grubby/>grubby</a>
&nbsp;<a class=tag href=/tags/grub2/>grub2</a>
&nbsp;<a class=tag href=/tags/boot/>boot</a>
&nbsp;<a class=tag href=/tags/bootloaderspec/>bootloaderspec</a>
&nbsp;<a class=tag href=/tags/f31/>f31</a>
&nbsp;<a class=tag href=/tags/fedora/>fedora</a>
&nbsp;<a class=tag href=/tags/troubleshoot/>troubleshoot</a></div></header><p>My machine running Fedora 30 was upgraded to version 31 on March 21st. When rebooting I got no grub menu and a <a href=/posts/upgrade-f31-kde/#creating-boot-menu-and-booting-up>fatal error</a>. This post is about what I have done to resolve this issue.</p><h4 id=how-to-make-changes-to-your-system-when-you-cant-boot-into-it>How to make changes to your system when you can&rsquo;t boot into it</h4><p>You need a live system! Or maybe there are better ways but so far this is the best I know of. I also heard about <em>rescue mode</em> but people seem to have to wait at that error screen for quite a long time before the mode activates, so a reset might be faster.</p><p>From the live system, you can use <code>chroot</code> command to basically operate as if your root is in your unbootable system, so that you can fix its problems. Do these things in your terminal:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; sudo -i <span style=color:#8f5902;font-style:italic># keep yourself as an admin</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># list all (-a) disks and partitions with filesystems (-f) and device paths (-p)</span>
</span></span><span style=display:flex><span>&gt; lsblk -fap 
</span></span><span style=display:flex><span>&gt; mount &lt;root-partition-path&gt; /mnt
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># also mount your boot partition, can be useful here</span>
</span></span><span style=display:flex><span>&gt; mount &lt;boot-partition-path&gt; /mnt/boot/efi <span style=color:#8f5902;font-style:italic># suppose you are using UEFI</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># these are to make sure the chroot-ed system works</span>
</span></span><span style=display:flex><span>&gt; mount -o <span style=color:#204a87>bind</span> /dev /mnt/dev
</span></span><span style=display:flex><span>&gt; mount -o <span style=color:#204a87>bind</span> /proc /mnt/proc
</span></span><span style=display:flex><span>&gt; mount -o <span style=color:#204a87>bind</span> /run /mnt/run
</span></span><span style=display:flex><span>&gt; mount -o <span style=color:#204a87>bind</span> /sys /mnt/sys
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># now we can change the root</span>
</span></span><span style=display:flex><span>&gt; chroot /mnt
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># and now it&#39;s like we are in the system we need to repair</span></span></span></code></pre></div><h4 id=the-problem>The problem</h4><p>From the chroot-ed system I could check log with <code>journalctl</code> and saw an error message &ldquo;<em>grubby fatal error: unable to find a suitable template</em>&rdquo;. I also checked <code>grub.cfg</code> in both <code>/boot/grub2/</code> and <code>/boot/efi/EFI/fedora/</code>, since the problem might be with grub, and saw in both a huge amount of the root partition&rsquo;s UUID repeated in the default kernel option:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>set</span> <span style=color:#000>default_kernelopts</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;root=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557=4298dad3-baa3-4843-9fcf-c849f4cdf557 ro resume=UUID=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac=9a58685a-be9a-4b36-99a2-7c50f19938ac &#34;</span></span></span></code></pre></div><p>And this is just a shorter version, with the root partition&rsquo;s UUID appearing 179 times, recreated after I had figured out the issue. The real one I saw had that UUID repeated for 21949 times. So this was the reason for the &ldquo;<em>token too large, exceeds YYLMAX</em>&rdquo; error. But why? And what&rsquo;s up with a template for <code>grubby</code>? Anyway, <code>grub2-mkconfig</code> can help remaking the grub config file, so I moved on.</p><p>On March 29th and April 3rd, I ran kernel updates, both of which ended up again with the error message about the grubby&rsquo;s template, and a process being killed:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/sbin/new-kernel-pkg: line 321: <span style=color:#0000cf;font-weight:700>170010</span> Killed   <span style=color:#000>$grubby</span> --grub2 -c <span style=color:#000>$grub2Config</span> --remove-kernel<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$kernelImage</span>
</span></span></code></pre></div><p>The grub config files again contained the same amount of UUID strings. So <code>grubby</code> might have been killed because of this.</p><p>Should I continue running <code>grub2-mkconfig</code> everytime I update the kernel? I don&rsquo;t want to have error logs either, so no. At this point it&rsquo;s all about <code>grubby</code>: the <code>new-kernel-pkg</code> script called grubby to change the grub config file and then got a bad file, grubby also wanted a template which seemed to not exist. So let&rsquo;s read grubby code to see what it does.</p><h4 id=the-reason>The reason</h4><p>From <a href=https://fedoraproject.org/wiki/Releases/30/ChangeSet#Make_BootLoaderSpec-style_configuration_files_the_default>Fedora 30</a>, BootLoaderSpec (BLS)-style config files have been made the default for configuring the bootloader&rsquo;s menu entries. I don&rsquo;t actually know when it came to my machine, just remember that at some point when running <code>grub2-mkconfig</code> I didn&rsquo;t see Fedora entries anymore, only the Windows one. And since after using <code>grub2-mkconfig</code> to recreate <code>grub.cfg</code> I could boot normally, it&rsquo;s safe to assume that what it creates is good with grub and BLS:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>set</span> <span style=color:#000>default_kernelopts</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;root=UUID=4298dad3-baa3-4843-9fcf-c849f4cdf557 ro resume=UUID=9a58685a-be9a-4b36-99a2-7c50f19938ac &#34;</span></span></span></code></pre></div><p>The issue is that <code>grubby</code> considers the equal sign <code>=</code> a kind of separator between the name and the value of a key, and it doesn&rsquo;t know about the BLS-style that config line is using, so when parsing the config file, it replicates every right hand side of each equal sign. After it runs once, the number of times the root partition&rsquo;s UUID appears in that line increases from 1 to 3, twice, to 14, three times, to 179, and four times, to 21949.</p><p><strong>So how did <code>grubby</code> get called after each kernel update?</strong></p><p>There are 2 macros in <a href=https://src.fedoraproject.org/rpms/kernel/blob/f31/f/kernel.spec#_2618><em>kernel.spec</em></a> file, which run the <code>kernel-install</code> script: <code>kernel_variant_posttrans</code> runs the <code>add</code> command and <code>kernel_variant_preun</code> runs the <code>remove</code> command. These in turn <a href=http://man7.org/linux/man-pages/man8/kernel-install.8.html>trigger</a> the corresponding <code>add</code> and <code>remove</code> parts of scripts in both <code>/usr/lib/kernel/install.d/</code> and <code>/etc/kernel/install.d/</code>.</p><p>In <code>/usr/lib/kernel/install.d/</code> I have <code>20-grubby.install</code> which a bit surprisingly comes from the package <code>systemd-udev</code> and runs <code>new-kernel-pkg</code> to install a new bootloader&rsquo;s menu entry, add a new kernel image, update the rescue image, and remove the old kernel, all using <code>grubby</code>. The command in the error message <code>$grubby --grub2 -c $grub2Config --remove-kernel=$kernelImage</code> can also be found in this <code>new-kernel-pkg</code> script.</p><p>There is also the <code>20-grub.install</code> script in that folder, which comes from <code>grub2-common</code> package and also uses <code>new-kernel-pkg</code> to do those tasks, but only when that script exists <a href=https://src.fedoraproject.org/rpms/grub2/blob/f31/f/20-grub.install#_80>AND</a> grub doesn&rsquo;t have BLS enabled (<code>GRUB_ENABLE_BLSCFG != true</code>). This config can be found in <code>/etc/default/grub</code> and I have it set to true.</p><p>The question now is: <strong>why is <code>new-kernel-pkg</code> there?</strong> If it&rsquo;s not there, grubby won&rsquo;t be called, no error.</p><p>And surprise surprise, which package contains that script? <code>grubby-deprecated</code>.</p><p>When did I install it? March 19th.</p><p>Why did I do that? I don&rsquo;t remember.</p><p>What should I do now? Remove <code>grubby-deprecated</code>, I guess.</p><p>And right now while I&rsquo;m writing this post, a new kernel update is available. Let&rsquo;s see how it goes&mldr;</p><p>While waiting for the update to finish, let&rsquo;s talk about the grubby&rsquo;s template. It will be resolved anyway when we get rid of <code>new-kernel-pkg</code>, but just for the sake of completeness: <code>grubby</code> tries to find a menu entry and to use it as a default template to create another one, but it can&rsquo;t, since with this BLS-styled grub, configs for menu entries are stored in separated files, not in the grub config file anymore.</p><p>Update finishes. No more grubby. Done.</p><footer><a class=next href=https://phunh.github.io/posts/upgrade-f31-kde/>Next >></a>
<a href=https://phunh.github.io/posts/toggle-krunner-plasma-5.17/>&lt;&lt; Prev</a><section class=comments id=comment-section><hr><div class=comments__existing><h2>7 comments</h2><article id=comment-715db730-631d-11ea-8aeb-f3d10a9f1e6f class="js-comment comment" uid=715db730-631d-11ea-8aeb-f3d10a9f1e6f><div class=comment__author><img alt="Gravatar for Me" src="https://secure.gravatar.com/avatar/ba4fdeb6c9eb19a974c177b774565ec3?s=64&amp;d=retro&amp;r=pg" srcset="https://secure.gravatar.com/avatar/ba4fdeb6c9eb19a974c177b774565ec3?s=128&amp;d=retro&amp;r=pg 2x" class="avatar avatar-64 photo" height=64 width=64 style=padding-right:5px;padding-bottom:5px>
Me on
<span class="comment__date anchored" data-anchor-id=comment-715db730-631d-11ea-8aeb-f3d10a9f1e6f>10 Mar 2020</span></div><div class=comment__body>How do I know if Akismet has worked?</div><div class=comment__meta><a rel=nofollow class=comment__reply-link onclick='return addComment.moveForm("comment-715db730-631d-11ea-8aeb-f3d10a9f1e6f","respond","715db730-631d-11ea-8aeb-f3d10a9f1e6f")'>↪&#xFE0E; Reply to Me</a></div></article><hr style="border-top:1px solid #ccc;background:0 0;margin-bottom:10px"><article id=comment-6c761610-8a26-11ea-997c-25493b035a59 class="js-comment comment" uid=6c761610-8a26-11ea-997c-25493b035a59><div class=comment__author><img alt="Gravatar for Phu" src="https://secure.gravatar.com/avatar/c3880190ac20b5c0a38d99cca7747b8d?s=64&amp;d=retro&amp;r=pg" srcset="https://secure.gravatar.com/avatar/c3880190ac20b5c0a38d99cca7747b8d?s=128&amp;d=retro&amp;r=pg 2x" class="avatar avatar-64 photo" height=64 width=64 style=padding-right:5px;padding-bottom:5px>
Phu on
<span class="comment__date anchored" data-anchor-id=comment-6c761610-8a26-11ea-997c-25493b035a59>29 Apr 2020</span></div><div class=comment__body>a new comment</div><div class=comment__meta><a rel=nofollow class=comment__reply-link onclick='return addComment.moveForm("comment-6c761610-8a26-11ea-997c-25493b035a59","respond","6c761610-8a26-11ea-997c-25493b035a59")'>↪&#xFE0E; Reply to Phu</a></div></article><article id=comment-07871ea0-8ab9-11ea-a522-21f303c172e2 class="js-comment comment child" uid=07871ea0-8ab9-11ea-a522-21f303c172e2><div class=comment__author><img alt="Gravatar for Phu" src="https://secure.gravatar.com/avatar/d11c8125547f587477e48ac075b238b3?s=64&amp;d=retro&amp;r=pg" srcset="https://secure.gravatar.com/avatar/d11c8125547f587477e48ac075b238b3?s=128&amp;d=retro&amp;r=pg 2x" class="avatar avatar-64 photo" height=64 width=64 style=padding-right:5px;padding-bottom:5px>
<a class=u-email href="mailto:phuhnguyen at disroot dot org">Phu</a> on
<span class="comment__date anchored" data-anchor-id=comment-07871ea0-8ab9-11ea-a522-21f303c172e2>30 Apr 2020</span></div><div class=comment__body>a reply to the second comment</div>reply to6c761610-8a26-11ea-997c-25493b035a59</article><hr style="border-top:1px solid #ccc;background:0 0;margin-bottom:10px"><article id=comment-975ef890-8a28-11ea-997c-25493b035a59 class="js-comment comment" uid=975ef890-8a28-11ea-997c-25493b035a59><div class=comment__author><img alt="Gravatar for Phu" src="https://secure.gravatar.com/avatar/c3880190ac20b5c0a38d99cca7747b8d?s=64&amp;d=retro&amp;r=pg" srcset="https://secure.gravatar.com/avatar/c3880190ac20b5c0a38d99cca7747b8d?s=128&amp;d=retro&amp;r=pg 2x" class="avatar avatar-64 photo" height=64 width=64 style=padding-right:5px;padding-bottom:5px>
Phu on
<span class="comment__date anchored" data-anchor-id=comment-975ef890-8a28-11ea-997c-25493b035a59>29 Apr 2020</span></div><div class=comment__body>a comment from production</div><div class=comment__meta><a rel=nofollow class=comment__reply-link onclick='return addComment.moveForm("comment-975ef890-8a28-11ea-997c-25493b035a59","respond","975ef890-8a28-11ea-997c-25493b035a59")'>↪&#xFE0E; Reply to Phu</a></div></article><article id=comment-d0c049e0-8ac3-11ea-ac74-fb9c76706cfe class="js-comment comment child" uid=d0c049e0-8ac3-11ea-ac74-fb9c76706cfe><div class=comment__author><img alt="Gravatar for PPP" src="https://secure.gravatar.com/avatar/?s=64&amp;d=retro&amp;r=pg" srcset="https://secure.gravatar.com/avatar/?s=128&amp;d=retro&amp;r=pg 2x" class="avatar avatar-64 photo" height=64 width=64 style=padding-right:5px;padding-bottom:5px>
PPP on
<span class="comment__date anchored" data-anchor-id=comment-d0c049e0-8ac3-11ea-ac74-fb9c76706cfe>30 Apr 2020</span></div><div class=comment__body>a replay or a reply</div>reply to975ef890-8a28-11ea-997c-25493b035a59</article><article id=comment-ef62d930-8ac3-11ea-ac74-fb9c76706cfe class="js-comment comment child" uid=ef62d930-8ac3-11ea-ac74-fb9c76706cfe><div class=comment__author><img alt="Gravatar for PPP" src="https://secure.gravatar.com/avatar/?s=64&amp;d=retro&amp;r=pg" srcset="https://secure.gravatar.com/avatar/?s=128&amp;d=retro&amp;r=pg 2x" class="avatar avatar-64 photo" height=64 width=64 style=padding-right:5px;padding-bottom:5px>
PPP on
<span class="comment__date anchored" data-anchor-id=comment-ef62d930-8ac3-11ea-ac74-fb9c76706cfe>30 Apr 2020</span></div><div class=comment__body>aaa</div>reply to975ef890-8a28-11ea-997c-25493b035a59</article><article id=comment-140eaa70-8ac4-11ea-ac74-fb9c76706cfe class="js-comment comment child" uid=140eaa70-8ac4-11ea-ac74-fb9c76706cfe><div class=comment__author><img alt="Gravatar for bbb" src="https://secure.gravatar.com/avatar/?s=64&amp;d=retro&amp;r=pg" srcset="https://secure.gravatar.com/avatar/?s=128&amp;d=retro&amp;r=pg 2x" class="avatar avatar-64 photo" height=64 width=64 style=padding-right:5px;padding-bottom:5px>
bbb on
<span class="comment__date anchored" data-anchor-id=comment-140eaa70-8ac4-11ea-ac74-fb9c76706cfe>30 Apr 2020</span></div><div class=comment__body>aaa</div>reply to975ef890-8a28-11ea-997c-25493b035a59</article><hr style="border-top:1px solid #ccc;background:0 0;margin-bottom:10px"></div><div id=respond class=comment__new><form class="js-form form" method=post action=https://phunh-staticman.onrender.com/v2/entry/phunh/phunh.github.io/main/comments><input type=hidden name=options[origin] value=/posts/problem-grubby-f31/>
<input type=hidden name=options[slug] value=problem-grubby-f31>
<input type=hidden name=fields[reply_to] id=comment-reply-to><div class=textfield><label for=comment-form-message><h2>Add Comment<small><a rel=nofollow id=cancel-comment-reply-link href=/posts/problem-grubby-f31/#respond style=display:none> (cancel reply)</a></small></h2><textarea class=textfield__input name=fields[message] type=text id=comment-form-message placeholder="Your comment (markdown accepted)"></textarea></label></div><div class=textfield><label for=comment-form-name>Name
<input class=textfield__input name=fields[name] type=text id=comment-form-name placeholder="Your name (required)"></label></div><div class=textfield><label for=comment-form-email>E-mail
<input class=textfield__input name=fields[email] type=email id=comment-form-email placeholder="Your email (optional, for displaying Gravatar)"></label></div><div class="textfield hp"><label for=hp><input class=textfield__input name=fields[hp] id=hp type=text placeholder="Leave blank"></label></div><button class=button id=comment-form-submit>
Submit</button></form><article class="modal mdl-card mdl-shadow--2dp"><div><h3 class="modal-title js-modal-title"></h3></div><div class="mdl-card__supporting-text js-modal-text"></div><div class="mdl-card__actions mdl-card--border"><button class="button mdl-button--colored mdl-js-button mdl-js-ripple-effect js-close-modal">Close</button></div></article><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><symbol id="icon-loading" viewBox="149.8 37.8 499.818 525"><path d="M557.8 187.8c13.8.0 24.601-10.8 24.601-24.6S571.6 138.6 557.8 138.6s-24.6 10.8-24.6 24.6c0 13.2 10.8 24.6 24.6 24.6zm61.2 90.6c-16.8.0-30.6 13.8-30.6 30.6s13.8 30.6 30.6 30.6 30.6-13.8 30.6-30.6c.6-16.8-13.2-30.6-30.6-30.6zm-61.2 145.2c-20.399.0-36.6 16.2-36.6 36.601.0 20.399 16.2 36.6 36.6 36.6s36.601-16.2 36.601-36.6C595 439.8 578.2 423.6 557.8 423.6zM409 476.4c-24 0-43.2 19.199-43.2 43.199s19.2 43.2 43.2 43.2 43.2-19.2 43.2-43.2S433 476.4 409 476.4zM260.8 411c-27 0-49.2 22.2-49.2 49.2s22.2 49.2 49.2 49.2 49.2-22.2 49.2-49.2-22.2-49.2-49.2-49.2zm-10.2-102c0-27.6-22.8-50.4-50.4-50.4s-50.4 22.8-50.4 50.4c0 27.6 22.8 50.4 50.4 50.4s50.4-22.2 50.4-50.4zm10.2-199.8c-30 0-54 24-54 54s24 54 54 54 54-24 54-54-24.6-54-54-54zM409 37.8c-35.4.0-63.6 28.8-63.6 63.6S374.2 165 409 165s63.6-28.8 63.6-63.6-28.2-63.6-63.6-63.6z"/></symbol></svg></div></section><script src=https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js></script>
<script src=/js/jquery-comment.js></script></footer></article></main><footer id=footer><div>Copyright © 2023 Phu Hung Nguyen ● <a href=https://github.com/phunh target=_blank>GitHub</a></div><div>Foo or Phu? - Interesting and/or useful things (to me)</div></footer></body></html>