<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Interesting and/or useful things (to me)"><link rel="shortcut icon" href=https://phunh.github.io/favicon.ico><link rel=stylesheet href=/css/style.min.609872059387950283d8b6ce9f9f1d1d35946704e753486966b9b6d2afe0ccc3.css><title>Upgrading to Fedora 31, Scientific edition</title></head><body><header id=banner><h2><a href=https://phunh.github.io/posts/upgrade-f31-kde/>Upgrading to Fedora 31, Scientific edition</a></h2><nav><ul><li><a href=https://phunh.github.io>home</a></li><li><a class=active href=/posts/>posts</a></li><li><a href=/notes/>notes</a></li><li><a href=/tags/>tags</a></li><li><a href=/about/>about</a></li></ul></nav></header><main id=content><article><header id=post-header><small><time>Updated on 14 Sep 2020</time></small><div class=tagline>Phu
&emsp;|&emsp;3 minutes&emsp;|&emsp;Tags:
&nbsp;<a class=tag href=/tags/fedora/>fedora</a>
&nbsp;<a class=tag href=/tags/f31/>f31</a>
&nbsp;<a class=tag href=/tags/kde/>kde</a>
&nbsp;<a class=tag href=/tags/log/>log</a>
&nbsp;<a class=tag href=/tags/troubleshoot/>troubleshoot</a></div></header><p>Lately, I have upgraded my Fedora Scientific to version 31. I started using it from version 28 and have had great experiences. This upgrade was not as smooth as previous ones but gave me chances to figure out many things about a Linux system. And since it has given me many more warnings and errors than previous versions, I want to keep a log of those issues and track how I possibly resolve them or at least have a workaround hopefully.</p><p>Fedora Scientific is a Fedora variation which comes with KDE among a bunch of scientific software. The latest version of Fedora that has this variation is 30, you can still download it from the Fedora Media Writer program or from the <a href=https://torrent.fedoraproject.org/>torrent server</a>. I did this upgrade from a Fedora Scientific 30 system with Plasma 5.15.5 and KDE Frameworks 5.64.0. The upgraded system has Plasma 5.17.5 and KDE Frameworks 5.67.0.</p><p>Here come the issues, from while upgrading until using:</p><h4 id=creating-boot-menu-and-booting-up><del>Creating boot menu and booting up</del></h4><p><strong>Details</strong>: [problem with grubby]({% post_url 2020-04-07-problem-grubby-f31 %})</p><pre tabindex=0><code>11:26:27 dnf[781]:   Running scriptlet: kernel-core-5.5.10-200.fc31.x86_64               5138/5138
11:26:27 dnf[781]: grubby fatal error: unable to find a suitable template
11:26:27 dnf[781]:   Running scriptlet: grub2-tools-1:2.02-106.fc31.x86_64               5138/5138
</code></pre><p>Then when booting up, no grub menu, only a message: &ldquo;Fatal error: token too large, exceeds YYLMAX&rdquo;</p><hr><h4 id=dolphin-runs-as-a-daemon-and-keeps-opening-home-at-system-startup><del>Dolphin runs as a daemon and keeps opening Home at system startup</del></h4><p><a href="https://bugzilla.redhat.com/show_bug.cgi?id=1808716">Bugzilla</a></p><p><strong>Workaround</strong>: Kill the daemon and remove <code>/etc/xdg/autostart/org.kde.dolphin.desktop</code> (maybe leave it in <code>~</code>).</p><hr><h4 id=nextcloud-appimage-cannot-start-at-system-startup>Nextcloud AppImage cannot start at system startup</h4><hr><h4 id=plasma-session-does-not-fully-restore-at-system-startup>Plasma session does not fully restore at system startup</h4><p>Only Firefox and Thunderbird are restored; for others, sometimes some are, sometimes not.</p><hr><h4 id=logoff>Logoff</h4><p><code>kscreen.kded: PowerDevil SuspendSession action not available!</code></p><hr><h4 id=krunner>krunner</h4><ul><li><del>To toggle krunner with Meta key, <code>invokeShortcut,run command</code> can&rsquo;t be used anymore</del> [workaround]({% post_url 2020-03-25-toggle-krunner-plasma-5.17 %})</li><li><del>Programs opened have a different interface and a different icon in Task Switcher from those of ones opened from Application Menu</del><br>It turns out to be Fusion style (<em>System Settings</em> > <em>Application Style</em> > <em>Application Style</em>). Reason unknown. Being asked <a href=https://www.reddit.com/r/kde/comments/g3jwyy/some_apps_are_in_fusion_style_while_the_style_in/>here</a>.<br><strong>Workaround</strong>: create a symlink to <code>/usr/share/kglobalaccel/krunner.desktop</code> in <code>/etc/xdg/autostart/</code>, or just use Alt+Space/Alt+F2 to start KRunner for the first time after system startup. After that using the assigned key combination to execute the script will bring up KRunner with the normal application style.</li></ul><hr><h4 id=torbrowser-cant-start-no-log-exists>TorBrowser can&rsquo;t start, no log exists</h4><p>On f30 as well</p><hr><h4 id=kate-cannot-restore-its-previous-session-at-startup><del>Kate cannot restore its previous session at startup</del></h4><p><strong>Workaround</strong>: Make a default session (in <code>~/.local/share/kate/sessions</code>)</p><hr><h4 id=bug-reporting-failed-for-many-bugs-an-example>Bug reporting failed for many bugs, an example:</h4><p>On f30 as well</p><pre tabindex=0><code>Preparing environment for backtrace generation
..................................................................
Retrace job failed
Retrace failed. Try again later and if the problem persists report this issue please.
    2020-03-21 21:34:00 Analyzing crash data
    2020-03-21 21:34:35 Preparing environment for backtrace generation
   2020-03-21 21:47:14 /usr/bin/mock init --resultdir /srv/retrace/tasks/736543580/log --configdir /srv/retrace/tasks/736543580 exitted with 20
=== OUTPUT ===
INFO: mock.py version 1.4.21 starting (python version = 3.6.8)...
Start: init plugins
INFO: selinux enabled
Finish: init plugins
INFO: Signal handler active
Start: run
Start: clean chroot
Finish: clean chroot
Start: chroot init
INFO: calling preinit hooks
INFO: enabled HW Info plugin
Mock Version: 1.4.21
INFO: Mock Version: 1.4.21
Start: yum install
Finish: yum install
ERROR: Could not find useradd in chroot, maybe the install failed?

   2020-03-21 21:47:19 None

Do you want to generate a stack trace locally? (It may download a huge amount of data but reporting can&#39;t continue without stack trace). &#39;NO&#39;
(&#39;analyze_CCpp&#39; exited with 1)
</code></pre><hr><h4 id=gnome-keyring>Gnome Keyring</h4><ul><li>&ldquo;gkr-pam unable to locate daemon control file&rdquo;</li><li>Keyring is still locked after system unlock, maybe related to the one above</li></ul><hr><p><em>(WIP)</em></p><footer><a href=https://phunh.github.io/posts/jekyll+_-sl%C6%B0%C3%BC.g/>&lt;&lt; Prev</a></footer></article></main><footer id=footer><div>Copyright © 2022 Phu Hung Nguyen</div><div>Foo or Phu? - Interesting and/or useful things (to me)</div><div><a href=https://github.com/phunh target=_blank>GitHub</a>
● <a href=https://twitter.com/phuhnguyen target=_blank>Twitter</a></div></footer></body></html>