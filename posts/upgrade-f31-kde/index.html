<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Interesting and/or useful things (to me)"><link rel="shortcut icon" href=https://phunh.github.io/favicon.ico><link rel=stylesheet href=/css/style.min.ffbd2639ac503caa3b261c32e3e1533fad01e3662072d49d4c38167e4d9e6708.css><title>Upgrading to Fedora 31, Scientific edition</title></head><body><header id=banner><h2><a href=https://phunh.github.io/posts/upgrade-f31-kde/>Upgrading to Fedora 31, Scientific edition</a></h2><nav><ul><li><a href=https://phunh.github.io>home</a></li><li><a class=active href=/posts/>posts</a></li><li><a href=/notes/>notes</a></li><li><a href=/tags/>tags</a></li><li><a href=/about/>about</a></li></ul></nav></header><main id=content><article><header id=post-header><small><time>Updated on 14 Sep 2020</time></small><div class=tagline>Phu
&emsp;|&emsp;3 minutes&emsp;|&emsp;Tags:
&nbsp;<a class=tag href=/tags/fedora/>fedora</a>
&nbsp;<a class=tag href=/tags/f31/>f31</a>
&nbsp;<a class=tag href=/tags/kde/>kde</a>
&nbsp;<a class=tag href=/tags/log/>log</a>
&nbsp;<a class=tag href=/tags/troubleshoot/>troubleshoot</a></div></header><p>Lately, I have upgraded my Fedora Scientific to version 31. I started using it from version 28 and have had great experiences. This upgrade was not as smooth as previous ones but gave me chances to figure out many things about a Linux system. And since it has given me many more warnings and errors than previous versions, I want to keep a log of those issues and track how I possibly resolve them or at least have a workaround hopefully.</p><p>Fedora Scientific is a Fedora variation which comes with KDE among a bunch of scientific software. The latest version of Fedora that has this variation is 30, you can still download it from the Fedora Media Writer program or from the <a href=https://torrent.fedoraproject.org/>torrent server</a>. I did this upgrade from a Fedora Scientific 30 system with Plasma 5.15.5 and KDE Frameworks 5.64.0. The upgraded system has Plasma 5.17.5 and KDE Frameworks 5.67.0.</p><p>Here come the issues, from while upgrading until using:</p><h4 id=creating-boot-menu-and-booting-up><del>Creating boot menu and booting up</del></h4><p><strong>Details</strong>: <a href=/posts/problem-grubby-f31/>problem with grubby</a></p><pre tabindex=0><code>11:26:27 dnf[781]:   Running scriptlet: kernel-core-5.5.10-200.fc31.x86_64               5138/5138
11:26:27 dnf[781]: grubby fatal error: unable to find a suitable template
11:26:27 dnf[781]:   Running scriptlet: grub2-tools-1:2.02-106.fc31.x86_64               5138/5138
</code></pre><p>Then when booting up, no grub menu, only a message: &ldquo;Fatal error: token too large, exceeds YYLMAX&rdquo;</p><hr><h4 id=dolphin-runs-as-a-daemon-and-keeps-opening-home-at-system-startup><del>Dolphin runs as a daemon and keeps opening Home at system startup</del></h4><p><a href="https://bugzilla.redhat.com/show_bug.cgi?id=1808716">Bugzilla</a></p><p><strong>Workaround</strong>: Kill the daemon and remove <code>/etc/xdg/autostart/org.kde.dolphin.desktop</code> (maybe leave it in <code>~</code>).</p><hr><h4 id=nextcloud-appimage-cannot-start-at-system-startup>Nextcloud AppImage cannot start at system startup</h4><hr><h4 id=plasma-session-does-not-fully-restore-at-system-startup>Plasma session does not fully restore at system startup</h4><p>Only Firefox and Thunderbird are restored; for others, sometimes some are, sometimes not.</p><hr><h4 id=logoff>Logoff</h4><pre tabindex=0><code>kscreen.kded: PowerDevil SuspendSession action not available!
</code></pre><hr><h4 id=krunner>krunner</h4><ul><li><del>To toggle krunner with Meta key, <code>invokeShortcut,run command</code> can&rsquo;t be used anymore</del> <a href=/posts/toggle-krunner-plasma-5.17/>workaround</a></li><li><del>Programs opened have a different interface and a different icon in Task Switcher from those of ones opened from Application Menu</del><br>It turns out to be Fusion style (<em>System Settings</em> > <em>Application Style</em> > <em>Application Style</em>). Reason unknown. Being asked <a href=https://www.reddit.com/r/kde/comments/g3jwyy/some_apps_are_in_fusion_style_while_the_style_in/>here</a>.<br><strong>Workaround</strong>: create a symlink to <code>/usr/share/kglobalaccel/krunner.desktop</code> in <code>/etc/xdg/autostart/</code>, or just use Alt+Space/Alt+F2 to start KRunner for the first time after system startup. After that using the assigned key combination to execute the script will bring up KRunner with the normal application style.</li></ul><hr><h4 id=torbrowser-cant-start-no-log-exists>TorBrowser can&rsquo;t start, no log exists</h4><p>On f30 as well</p><hr><h4 id=kate-cannot-restore-its-previous-session-at-startup><del>Kate cannot restore its previous session at startup</del></h4><p><strong>Workaround</strong>: Make a default session (in <code>~/.local/share/kate/sessions</code>)</p><hr><h4 id=bug-reporting-failed-for-many-bugs-an-example>Bug reporting failed for many bugs, an example:</h4><p>On f30 as well</p><pre tabindex=0><code>Preparing environment for backtrace generation
..................................................................
Retrace job failed
Retrace failed. Try again later and if the problem persists report this issue please.
    2020-03-21 21:34:00 Analyzing crash data
    2020-03-21 21:34:35 Preparing environment for backtrace generation
   2020-03-21 21:47:14 /usr/bin/mock init --resultdir /srv/retrace/tasks/736543580/log --configdir /srv/retrace/tasks/736543580 exitted with 20
=== OUTPUT ===
INFO: mock.py version 1.4.21 starting (python version = 3.6.8)...
Start: init plugins
INFO: selinux enabled
Finish: init plugins
INFO: Signal handler active
Start: run
Start: clean chroot
Finish: clean chroot
Start: chroot init
INFO: calling preinit hooks
INFO: enabled HW Info plugin
Mock Version: 1.4.21
INFO: Mock Version: 1.4.21
Start: yum install
Finish: yum install
ERROR: Could not find useradd in chroot, maybe the install failed?

   2020-03-21 21:47:19 None

Do you want to generate a stack trace locally? (It may download a huge amount of data but reporting can&#39;t continue without stack trace). &#39;NO&#39;
(&#39;analyze_CCpp&#39; exited with 1)
</code></pre><hr><h4 id=gnome-keyring>Gnome Keyring</h4><ul><li>&ldquo;gkr-pam unable to locate daemon control file&rdquo;</li><li>Keyring is still locked after system unlock, maybe related to the one above</li></ul><hr><p><em>(WIP)</em></p><footer><a class=next href=https://phunh.github.io/posts/jekyll+_-sl%C6%B0%C3%BC.g/>Next >></a>
<a href=https://phunh.github.io/posts/problem-grubby-f31/>&lt;&lt; Prev</a><section class=comments id=comment-section><hr><div id=respond class=comment__new><form class="js-form form" method=post action=https://phunh-staticman.onrender.com/v2/entry/phunh/phunh.github.io/source/comments><input type=hidden name=options[origin] value=/posts/upgrade-f31-kde/>
<input type=hidden name=options[slug] value=upgrade-f31-kde>
<input type=hidden name=fields[reply_to] id=comment-reply-to><div class=textfield><label for=comment-form-message><h2>Add Comment<small><a rel=nofollow id=cancel-comment-reply-link href=/posts/upgrade-f31-kde/#respond style=display:none> (cancel reply)</a></small></h2><textarea class=textfield__input name=fields[message] type=text id=comment-form-message placeholder="Your comment (markdown accepted)"></textarea></label></div><div class=textfield><label for=comment-form-name>Name
<input class=textfield__input name=fields[name] type=text id=comment-form-name placeholder="Your name (required)"></label></div><div class=textfield><label for=comment-form-email>E-mail
<input class=textfield__input name=fields[email] type=email id=comment-form-email placeholder="Your email (optional, for displaying Gravatar)"></label></div><div class="textfield hp"><label for=hp><input class=textfield__input name=fields[hp] id=hp type=text placeholder="Leave blank"></label></div><button class=button id=comment-form-submit>
Submit</button></form><article class="modal mdl-card mdl-shadow--2dp"><div><h3 class="modal-title js-modal-title"></h3></div><div class="mdl-card__supporting-text js-modal-text"></div><div class="mdl-card__actions mdl-card--border"><button class="button mdl-button--colored mdl-js-button mdl-js-ripple-effect js-close-modal">Close</button></div></article><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><symbol id="icon-loading" viewBox="149.8 37.8 499.818 525"><path d="M557.8 187.8c13.8.0 24.601-10.8 24.601-24.6S571.6 138.6 557.8 138.6s-24.6 10.8-24.6 24.6c0 13.2 10.8 24.6 24.6 24.6zm61.2 90.6c-16.8.0-30.6 13.8-30.6 30.6s13.8 30.6 30.6 30.6 30.6-13.8 30.6-30.6c.6-16.8-13.2-30.6-30.6-30.6zm-61.2 145.2c-20.399.0-36.6 16.2-36.6 36.601.0 20.399 16.2 36.6 36.6 36.6s36.601-16.2 36.601-36.6C595 439.8 578.2 423.6 557.8 423.6zM409 476.4c-24 0-43.2 19.199-43.2 43.199s19.2 43.2 43.2 43.2 43.2-19.2 43.2-43.2S433 476.4 409 476.4zM260.8 411c-27 0-49.2 22.2-49.2 49.2s22.2 49.2 49.2 49.2 49.2-22.2 49.2-49.2-22.2-49.2-49.2-49.2zm-10.2-102c0-27.6-22.8-50.4-50.4-50.4s-50.4 22.8-50.4 50.4c0 27.6 22.8 50.4 50.4 50.4s50.4-22.2 50.4-50.4zm10.2-199.8c-30 0-54 24-54 54s24 54 54 54 54-24 54-54-24.6-54-54-54zM409 37.8c-35.4.0-63.6 28.8-63.6 63.6S374.2 165 409 165s63.6-28.8 63.6-63.6-28.2-63.6-63.6-63.6z"/></symbol></svg></div></section><script src=https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js></script>
<script src=/js/jquery-comment.js></script></footer></article></main><footer id=footer><div>Copyright © 2023 Phu Hung Nguyen ● <a href=https://github.com/phunh target=_blank>GitHub</a></div><div>Foo or Phu? - Interesting and/or useful things (to me)</div></footer></body></html>